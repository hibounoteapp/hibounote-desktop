<div #toolbox id="toolbox">

  <div #editingNode class="flex flex-col justify-between" *ngIf="nodeService.activeNode; else editingConnection">
    <button class="return controlTools" (click)="deactivateNode()">
      <img src="assets/icons/return-outline.svg" style="width: 25px; height: 25px;" alt="return">
    </button>
    <div class="mt-10 bg-background-200 rounded p-2">
      <div class="flex flex-col items-center">
        <button class="w-10 h-10 bg-[#FE5F55] rounded controlTools" (click)="editNode('backgroundColor','#FE5F55')"></button>
        <button class="w-10 h-10 bg-[#2D93AD] rounded controlTools" (click)="editNode('backgroundColor','#2D93AD')"></button>
        <button class="w-10 h-10 bg-[#FFAD05] rounded controlTools" (click)="editNode('backgroundColor','#FFAD05')"></button>
        <button class="w-10 h-10 bg-[#008148] rounded controlTools" (click)="editNode('backgroundColor','#008148')"></button>
        <button class="w-10 h-10 bg-[#fffdf6] rounded controlTools" (click)="editNode('backgroundColor','#fffdf6')"></button>
      </div>
    </div>
  </div>

  <ng-template #editingConnection>
    <div class="edit" *ngIf="nodeService.activeConnection; else addingNode">
      <button class="return controlTools" (click)="deactivateConnection()">
        <img src="assets/icons/return-outline.svg" style="width: 30px; height: 30px;" alt="return">
      </button>
      <div class="mt-10 bg-background-200 rounded p-2 flex flex-col items-center">
        <button class="w-10 h-10 bg-[#FE5F55] rounded controlTools" (click)="editConnection('#FE5F55')"></button>
        <button class="w-10 h-10 bg-[#2D93AD] rounded controlTools" (click)="editConnection('#2D93AD')"></button>
        <button class="w-10 h-10 bg-[#FFAD05] rounded controlTools" (click)="editConnection('#FFAD05')"></button>
        <button class="w-10 h-10 bg-[#008148] rounded controlTools" (click)="editConnection('#008148')"></button>
        <button class="w-10 h-10 bg-[#fffdf6] rounded controlTools" (click)="editConnection('#fffdf6')"></button>
        <button class="px-2 text-sm bg-[#fffdf6] rounded controlTools" (click)="toggleLabelConnection()">
        Toggle label
        </button>
      </div>
    </div>
  </ng-template>

  <ng-template #addingNode id="addNode">
    <div class="grab" draggable="true" id="note" matTooltip="Note - Drag to add" matTooltipPosition="right">
      <img src="assets/icons/note-outline.svg" alt="note" style="width: 25px; height: 25px;">
    </div>
    <div class="grab" draggable="true" id="group" matTooltip="Group note - Drag to add" matTooltipPosition="right">
      <img src="assets/icons/folder-outline.svg" alt="note" style="width: 25px; height: 25px;">
    </div>
  </ng-template>
</div>
